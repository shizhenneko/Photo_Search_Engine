# ============================================
# 照片搜索引擎依赖清单
# ============================================

# --------------------------------------------
# Web 框架
# --------------------------------------------
flask==3.0.3
jinja2>=3.0.0

# --------------------------------------------
# 核心依赖
# --------------------------------------------
numpy>=1.26.0,<2.0.0
pillow>=10.0.0

# --------------------------------------------
# 向量存储（CPU版本）
# --------------------------------------------
faiss-cpu>=1.7.0

# --------------------------------------------
# AI 服务
# --------------------------------------------
# OpenAI兼容客户端（用于OpenRouter、阿里百炼、火山引擎等API）
openai>=1.0.0

# 本地Embedding模型（可选，如果使用云端Embedding服务则可不依赖）
sentence-transformers>=2.2.0

# --------------------------------------------
# 图像处理
# --------------------------------------------
# EXIF元数据解析
piexif>=1.1.3

# --------------------------------------------
# 工具库
# --------------------------------------------
# 环境变量管理
python-dotenv>=0.19.0

# --------------------------------------------
# 深度学习后端（用于sentence-transformers）
# --------------------------------------------
# PyTorch - 自动检测CUDA，如有GPU则使用GPU，否则使用CPU
# 注意：如果有NVIDIA GPU，建议先手动安装CUDA版本以获得更好性能：
# pip install torch torchvision --index-url https://download.pytorch.org/whl/cu121
torch>=2.0.0
torchvision>=0.15.0

# --------------------------------------------
# 可选依赖
# --------------------------------------------
# Elasticsearch（混合检索功能需要，可选）
# 如需启用关键字检索，请取消注释并安装Elasticsearch服务：
# elasticsearch>=8.0.0

# --------------------------------------------
# 开发和测试依赖（仅开发环境需要）
# --------------------------------------------
# pytest>=7.0.0
# pytest-cov>=4.0.0
# black>=23.0.0
# flake8>=6.0.0
# mypy>=1.0.0